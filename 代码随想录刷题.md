# 数组专题

#### 数组的基础知识

定义：数组是存放在连续内存空间上的相同类型数据的集合

- 数组下标都是从0开始的
- 数组内空间地址是连续的
- 正是因为数组的内存空间地址是连续的，所以我们在删除或者添加元素的适合，无法避免移动其它元素





#### 二分查找类型题

##### 题目1（leetcode 704）

- 排序数组
- 查找元素

<img src="C:\Users\admin\AppData\Roaming\Typora\typora-user-images\image-20220424145732827.png" alt="image-20220424145732827" style="zoom: 80%;" />

```java
写法1
class Solution {
    public int search(int[] nums, int target) {
        int left=0;
        int right=nums.length-1;
        while(right>=left){
            int mid = (left+right)/2;
            if(nums[mid]<target){
                left = mid+1;
            }else if(nums[mid]>target){
                right=mid-1;
            }else{
                return mid;
            }
        }
        return -1;
    }
}
```

- 二分查找的两种写法

  这两个写法的区别在于循环终止条件和右指针是移动到mid位置还是移动到其前一个

  - 左右都闭合（左指针和右指针都指在元素本身）
    - 在这种写法中，如果两个指针都指向同一元素，那么这个元素也是要被搜寻的（例如遍历单元素数组的时候，左右指针都指向第一个元素，这时候也要进入循环进行结果的判断）并且如果中间元素不是target的话需要将右指针指向mid的前一个，因为mid已经被检验完成了
      - **这里循环的终止条件应该是while (left <= right) 要使用 <=**
      - **这里的右指针移动需要将其移动到mid的下一个**
  - 左闭右开（左指针指向的是元素本身，右指针指向的是所有元素的下一个）
    - 在这种写法中，右指针指向的元素永远是有效元素的后一个，所以当左指针和右指针相碰，这就说明并没有有效的搜索集了，并且当mid并不等于target的时候，我们也要保持在有效搜索范围外一个的位置上定义我们的右指针
      - **while (left < right)，这里使用 <**
      - **if (nums[middle] > target) right 更新为 middle**

  

```java
写法2
class Solution {
    public int search(int[] nums, int target) {
        int left=0;
        int right=nums.length;
        while(right>left){
            int mid = (left+right)/2;
            if(nums[mid]<target){
                left = mid+1;
            }else if(nums[mid]>target){
                right=mid;
            }else{
                return mid;
            }
        }
        return -1;
    }
}
```

**从这比较中可以看出来，定义右指针的方式不同，循环结束条件不同，右指针移动的时候的位置不同（三不同）**



##### 题目2: 35搜索插入位置

<img src="C:\Users\admin\AppData\Roaming\Typora\typora-user-images\image-20220424154416512.png" alt="image-20220424154416512" style="zoom:80%;" />

<img src="C:\Users\admin\AppData\Roaming\Typora\typora-user-images\image-20220424154537055.png" alt="image-20220424154537055" style="zoom:80%;" />

```java
class Solution {
    public int searchInsert(int[] nums, int target) {
        int left = 0;
        int right = nums.length-1;
        while(left<=right){
            int mid = (left+right)/2;
            if(nums[mid]<target){
                left = mid+1;
            }else if(nums[mid]>target){
                right = mid-1;
            }else{
                return mid;
            }
        }
        return left;
    }
}
```

**与上面不一样的就是返回值**

在双闭合写法的时候，当搜寻结束时，右指针会在左指针的左侧（只能返回左）。

而在单闭合写法的时候，最后结束的时候就时左右指针重合（所以返回左还是右都可以）

































